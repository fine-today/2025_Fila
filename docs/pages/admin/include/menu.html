<div class="depth depth1">
  <ul class="depth-list depth1-list">
    <li class="depth-item depth1-item">
      <a class="depth-anchor depth1-anchor" href="#n">
        <span>사업소개 편집</span>
      </a>
    </li>
    <li class="depth-item depth1-item">
      <a class="depth-anchor depth1-anchor" href="#n">
        <span>계정</span>
      </a>
      <ul class="depth-list depth2-list">
        <li class="depth-item depth2-item">
          <a href="#n" class="depth-anchor depth2-anchor">
            <span>리스트</span>
          </a>
        </li>
        <li class="depth-item depth2-item">
          <a href="#n" class="depth-anchor depth2-anchor">
            <span>상세페이지</span>
          </a>
        </li>
        <li class="depth-item depth2-item">
          <a href="#n" class="depth-anchor depth2-anchor">
            <span>2dep menu03</span>
          </a>
        </li>
      </ul>
    </li>
    <li class="depth-item depth1-item">
      <a class="depth-anchor depth1-anchor" href="#n">
        <span>1dep menu03</span>
      </a>
      <ul class="depth-list depth2-list">
        <li class="depth-item depth2-item">
          <a href="#n" class="depth-anchor depth2-anchor">
            <span>2dep menu01</span>
          </a>
        </li>
        <li class="depth-item depth2-item">
          <a href="#n" class="depth-anchor depth2-anchor">
            <span>2dep menu02</span>
          </a>
        </li>
        <li class="depth-item depth2-item">
          <a href="#n" class="depth-anchor depth2-anchor">
            <span>2dep menu03</span>
          </a>
        </li>
      </ul>
    </li>
  </ul>
</div>

<script>
  $(function () {
    var $menu = $(".depth1"),
      $menuItem = $menu.find(".depth-item"),
      $menuAnchor = $menu.find(".depth-anchor");
    $menuItem.each(function (i, elem) {
      var $elem = $(elem);
      if ($elem.find(".depth-list").length > 0) {
        $elem.addClass("has");
      }
      if ($elem.hasClass("actived")) {
        $elem.find(">.depth-anchor").attr("title", "현재 위치");
        $elem.parents(".depth-item").addClass("actived");
      }
    });
    $menuItem.each(function (i, elem) {
      var $elem = $(elem);
      if ($elem.hasClass("actived")) {
        $elem
          .parents(".depth-item")
          .find(".depth-list")
          .slideDown(0)
          .css("display", "flex");
      }
    });
    $menuAnchor.on("click", function () {
      var $this = $(this),
        $thisItem = $this.closest(".depth-item");
      $menu.find(".actived > .depth-anchor").removeAttr("title");
      $menuItem.removeClass("active");
      $this.parents(".depth-item").addClass("active");
      $thisItem.siblings().removeClass("active");
      $menuItem.each(function (i, item) {
        var $item = $(item);
        if ($item.hasClass("has") && $item.hasClass("active")) {
          $item.find(".depth-list").slideDown(150).css("display", "flex");
          $item.find(">.depth-anchor").attr("title", "열림");
        } else {
          $item.find(".depth-list").slideUp(150);
          $item.find(">.depth-list").removeAttr("title");
        }
      });
    });
  });
</script>
